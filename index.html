<!doctype html>
<html>
<head>
    <title>The Semi-Enlightened Seeker</title>
    <meta name="description" content="Philosophy, practices and teachings of truth seekers and truth knowers. Through this podcast we hope to explore modern techniques for enlightenment, common sense holistic approaches for living, the similarities between all major religions, how spirituality fits in with science, the value of surrendering to the greater whole, why having faith is good for your health, and much much more!">
    <meta name="keywords" content="podcast,enlightenment,modern">
    <link rel="icon" type="image/x-icon" href="favicon.ico">

    <style>
        #button {
            background-color: #0000000f;
        }
        #button:hover {
            background-color: white;
        }
    </style>
    <script>
        const validateEmail = (email) => {
            return email.match(
                /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/
            );
        };
        function emailForm() {
            let xhr = new XMLHttpRequest();
            xhr.open("POST", "https://h4lwtpeeg8.execute-api.us-east-1.amazonaws.com/V0");

            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4) {
                    console.log(xhr.status);
                    console.log(xhr.responseText);
                }
            };
            
            let name = document.getElementById("name").value;
            let email = document.getElementById("email").value;
            let data = {
                "email": email,
                "name": name
            };

            if (name == "" && email == "") {
                document.getElementById("subscribe").innerHTML = "* email and name cannot be empty *"
                document.getElementById("subscribe").style.color = "red"
            } else if (email == "") {
                document.getElementById("subscribe").innerHTML = "* missing email *"
                document.getElementById("subscribe").style.color = "red"
            } else if (!validateEmail(email)) {
                document.getElementById("subscribe").innerHTML = "* email is not valid *"
                document.getElementById("subscribe").style.color = "red"
            } else if (name == "") {
                document.getElementById("subscribe").innerHTML = "* missing name *"
                document.getElementById("subscribe").style.color = "red"
            } else {
                xhr.send(JSON.stringify(data));
                document.getElementById("name").value = ""
                document.getElementById("email").value = ""
                document.getElementById("subscribe").style.color = "green"
                document.getElementById("subscribe").innerHTML = "Subscribed :)"
            }
        }

        function image() {
            var img = document.createElement("img");
            img.src = "https://source.unsplash.com/random/1000x500?space";
            img.style = "height:150px;width:auto;"
            var src = document.getElementById("image");
            src.appendChild(img);
        }
    </script>
</head>
<body style="font-family:'Courier New', monospace; margin: 25px">
    <h2>The Semi-Enlightened Seeker</h2>
    <br>
    <center>
    <div id="image">
        <script>
            image()
        </script>
    </div>
    <h4>
        "Your modern guide to enlightenment."
    </h4>
    </center>
    <p>
        Philosophy, practices and teachings of truth seekers and truth knowers. 
        Through this podcast we hope to explore 
        modern techniques for enlightenment, 
        common sense holistic approaches for living, 
        the similarities between all major religions,
        how spirituality fits in with science, 
        the value of surrendering to the greater whole,
        why having faith is good for your health, and much much more!

    </p>
    <br>
    <br>
    <br>
    <center style="float: bottom;">
        <div>
            <label id="subscribe">If you are interested in joining our mailing list, please use the form below :)</label>
        </div>
        <br>
        <div>
            <input style="border: 1px solid #0000003f; width: 250px; height: 25px; padding: 5px;" placeholder="Name" type="text" name='name' id='name' />
        </div>
        <br>
        <div>
            <input style="border: 1px solid #0000003f; width: 250px; height: 25px; padding: 5px;" placeholder="Email" type="text" name='email' id='email' />
        </div>
        <br>
        <div>
            <button style="font-family:'Courier New', monospace; font-weight: bolder; border: 1px solid #000; border-radius: 5px; width: 100px; height: 40px;" id='button' onclick="emailForm()">join</button>
        </div>
    </center>
</body>
</html>